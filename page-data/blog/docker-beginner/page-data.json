{"componentChunkName":"component---src-templates-blog-js","path":"/blog/docker-beginner","result":{"data":{"contentfulBlogpost":{"title":"What is docker part 1","slug":"docker-beginner","publishedDate":"03 17 (We) 2021","body":{"json":{"nodeType":"document","data":{},"content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"","marks":[],"data":{}}],"data":{}},{"nodeType":"heading-1","content":[{"nodeType":"text","value":"Why docker ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker is trying to make it easy to run your software on any os/hardware, no setup or installation of dependencies:","marks":[],"data":{}}],"data":{}},{"nodeType":"unordered-list","content":[{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"When running our app makes big assumptions about our environment","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"running our app requires precise knowledge of how to start it (e.g npm start)","marks":[],"data":{}}],"data":{}}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"The solution ?","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker solves both of these issues ,containers wrap up everything that is needed for a program + how to start and run it ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Also docker has a huge ecosystem :","marks":[],"data":{}}],"data":{}},{"nodeType":"unordered-list","content":[{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker client","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker server","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker Machine","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker Image","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker Hub","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker Compose","marks":[],"data":{}}],"data":{}}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"","marks":[],"data":{}}],"data":{}},{"nodeType":"heading-3","content":[{"nodeType":"text","value":"Why do we need kubernetes ?","marks":[],"data":{}}],"data":{}},{"nodeType":"unordered-list","content":[{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Kubernetes is a tool for running a bunch of different containers","marks":[],"data":{}}],"data":{}}],"data":{}},{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"We also configure to describe our container to run what it how we want","marks":[],"data":{}}],"data":{}}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Kubernetese has also clusters witch is a virtual machine ,kubernets cluster has ","marks":[],"data":{}},{"nodeType":"text","value":"nodes","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":" or our code and it has ","marks":[],"data":{}},{"nodeType":"text","value":"master","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":" . Master has config file that tells it how and how many copies to run of node .","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"","marks":[],"data":{}}],"data":{}},{"nodeType":"heading-1","content":[{"nodeType":"text","value":"Going deeper ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"","marks":[],"data":{}}],"data":{}},{"nodeType":"embedded-asset-block","content":[],"data":{"target":{"metadata":{"tags":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"h7e6pc1l35y1","contentful_id":"h7e6pc1l35y1"}},"id":"c2CIrVQEGwejMFuwh2okop7","type":"Asset","createdAt":"2021-03-18T13:02:14.833Z","updatedAt":"2021-03-18T13:02:14.833Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment","contentful_id":"master"}},"revision":1,"contentful_id":"2CIrVQEGwejMFuwh2okop7"},"fields":{"title":{"en-US":"Docker img1"},"description":{"en-US":"Image explaining how dose image interact with docker container "},"file":{"en-US":{"url":"//images.ctfassets.net/h7e6pc1l35y1/2CIrVQEGwejMFuwh2okop7/4754290a77e657098c7a64e09aa682aa/dokcer1.jpeg","details":{"size":56322,"image":{"width":608,"height":378}},"fileName":"dokcer1.jpeg","contentType":"image/jpeg"}}}}}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Image ","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":"is a file with all the dependencies and configs to run a program ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Container ","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":"instance of an image that runs program in vm","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"OK that is all fine and dandy Amar but how do we execute or run docker after ","marks":[],"data":{}},{"nodeType":"hyperlink","content":[{"nodeType":"text","value":"installation","marks":[],"data":{}}],"data":{"uri":"https://docs.docker.com/engine/install/"}},{"nodeType":"text","value":" , really simple using ","marks":[],"data":{}},{"nodeType":"text","value":"docker run","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":" command.","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"When running the command docker run it calls the docker server to check if it has the hello-world in image cache , if it doesn't have the image then it goes to docker hub and downloads the image . in that single file it has everything to run the program","marks":[],"data":{}}],"data":{}},{"nodeType":"embedded-asset-block","content":[],"data":{"target":{"metadata":{"tags":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"h7e6pc1l35y1","contentful_id":"h7e6pc1l35y1"}},"id":"c424SdGQMgzRAdhJQeXTheo","type":"Asset","createdAt":"2021-03-18T13:18:16.998Z","updatedAt":"2021-03-18T13:18:16.998Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment","contentful_id":"master"}},"revision":1,"contentful_id":"424SdGQMgzRAdhJQeXTheo"},"fields":{"title":{"en-US":"Flow diagram"},"description":{"en-US":"how dose docker work on pc "},"file":{"en-US":{"url":"//images.ctfassets.net/h7e6pc1l35y1/424SdGQMgzRAdhJQeXTheo/a763097f1b9e6ef322fe6a69f92b748d/Flow-Diagram-of-docker-run-hello-world-2.png","details":{"size":27812,"image":{"width":665,"height":300}},"fileName":"Flow-Diagram-of-docker-run-hello-world-2.png","contentType":"image/png"}}}}}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Also after creation and running a container from a image on our hardware we get `FS snapshot` and the startup command `>run hello world `","marks":[],"data":{}}],"data":{}},{"nodeType":"heading-3","content":[{"nodeType":"text","value":"Container in detail","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Container main selling point is the smaller footprint then virtual machine(vm image). That is because containers isolate programs from each other on the same shared OS, each container can run whole web applications or web services .","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Also a good reason why containers are great at scalability is because of how quickly we can build more containers ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Also important","marks":[{"type":"bold"},{"type":"italic"},{"type":"underline"}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Name spacing (isolation of resources per process or group of processes) and control groups(limit amount of resources used per process) are only available in Linux.","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker has linux virtual machine with the linux kernel taking care of the processes\nand after sending it directly to your OS (win or mac )","marks":[],"data":{}}],"data":{}},{"nodeType":"heading-1","content":[{"nodeType":"text","value":"Docker life-cycle","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"docker run ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"= ","marks":[],"data":{}},{"nodeType":"text","value":"docker start","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":" + ","marks":[],"data":{}},{"nodeType":"text","value":"docker create","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"\n","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker create ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"is for creating an image an when running the command we get an id from the image that we can use to start the image with the command ","marks":[],"data":{}},{"nodeType":"text","value":"docker start -a","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":" `","marks":[],"data":{}},{"nodeType":"text","value":"<id>","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"`. If we didn't add the","marks":[],"data":{}},{"nodeType":"text","value":" -a","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":" we docker would not read the docker image instead it would return the key .","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Important ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Docker image cannot change its default command so you cant use ","marks":[],"data":{}},{"nodeType":"text","value":"`docker run <ContainerID> <CustomCommand>` ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"again after the container is built","marks":[],"data":{}},{"nodeType":"text","value":" .","marks":[{"type":"bold"},{"type":"italic"}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Must known commands in docker  ?","marks":[{"type":"bold"},{"type":"italic"}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"`docker system prune`","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":": Will remove all stopped containers , networks and all build up cache (any image fetched from docker hub) .","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"`docker logs <containerID> `:","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":" gets logs from a container its super fast and it isn't expensive to run unlike","marks":[],"data":{}},{"nodeType":"text","value":" `docker start `","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":"it doesn't even call container it just fetches the data from the logs it build on creation.","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Also the containers are running in background you cant terminate them the usual way ","marks":[],"data":{}},{"nodeType":"text","value":"`ctl+c` ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"you need to specify one of two commands :","marks":[],"data":{}}],"data":{}},{"nodeType":"unordered-list","content":[{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Stop a container","marks":[],"data":{}},{"nodeType":"text","value":" `docker stop <containerID>","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":"`","marks":[],"data":{}}],"data":{}}],"data":{}}],"data":{}},{"nodeType":"unordered-list","content":[{"nodeType":"list-item","content":[{"nodeType":"paragraph","content":[{"nodeType":"text","value":" Kill a container ","marks":[],"data":{}},{"nodeType":"text","value":"`docker kill  <constainerID>`","marks":[{"type":"bold"}],"data":{}}],"data":{}}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"\nBoth of these can stop the container but they do in a different way ","marks":[],"data":{}},{"nodeType":"text","value":"`stop` method i","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"s the nice way of stopping the container giving it 10s to terminate if it doesn't terminate within 10s it will issue `","marks":[],"data":{}},{"nodeType":"text","value":"kill` method ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"what will kill the container this instant ","marks":[],"data":{}},{"nodeType":"text","value":"(basically a glorified `alt+f4`)","marks":[{"type":"bold"},{"type":"italic"}],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"How to execute additional commands in the container","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"`docker exec -it <containerID> <command>`","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":"\n","marks":[],"data":{}},{"nodeType":"text","value":"exec","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":": run another command \n","marks":[],"data":{}},{"nodeType":"text","value":"-it ","marks":[{"type":"bold"},{"type":"italic"}],"data":{}},{"nodeType":"text","value":": Allows us to provide input to the container ","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"Why do we need to use this ?\nWell e.g trying to run Redis on docker container will only allow you to initialize the Redis server and not let you get back to your terminal and write additional instructions or commands ...","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"","marks":[],"data":{}}],"data":{}},{"nodeType":"paragraph","content":[{"nodeType":"text","value":"That is all for today's chapter this is only scratching the surface of executing and calling docker stay tuned for more docker and other developer goodies :D ","marks":[],"data":{}}],"data":{}}]}}}},"pageContext":{"slug":"docker-beginner"}},"staticQueryHashes":[]}